{"version":3,"sources":["webpack:///src/app/shared/models/pagination.ts","webpack:///src/app/shared/models/shopParams.ts","webpack:///src/app/shop/product-details/product-details.component.ts","webpack:///src/app/shop/product-details/product-details.component.html","webpack:///src/app/shop/product-item/product-item.component.ts","webpack:///src/app/shop/product-item/product-item.component.html","webpack:///src/app/shop/shop-routing.module.ts","webpack:///src/app/shop/shop.component.ts","webpack:///src/app/shop/shop.component.html","webpack:///src/app/shop/shop.module.ts","webpack:///src/app/shop/shop.service.ts"],"names":["Pagination","data","ShopParams","brandId","typeId","sort","pageNumber","pageSize","ProductDetailsComponent","shopService","activateRoute","bcService","basketService","quantity","set","loadProduct","addItemToBasket","product","getProduct","snapshot","paramMap","get","subscribe","name","error","console","log","selector","templateUrl","styleUrls","ProductItemComponent","routes","path","component","breadcrumb","alias","ShopRoutingModule","forChild","declarations","imports","exports","ShopComponent","sortOptions","value","shopParams","getShopParams","getProducts","getBrands","getTypes","useCache","response","products","totalCount","count","brands","id","types","params","setShopParams","event","search","searchTerm","nativeElement","ShopModule","ShopService","http","baseUrl","pagination","length","pagesReceived","Math","ceil","slice","append","toString","observe","pipe","body","find","p","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AASA;AAAA;;;AAAA;AAAA;AAAA;;QAAaA,U,GAAb;AAAA;;AAII,WAAAC,IAAA,GAAmB,EAAnB;AACH,K;;;;;;;;;;;;;;;;;ACdD;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,U,GAAb;AAAA;;AACI,WAAAC,OAAA,GAAU,CAAV;AACA,WAAAC,MAAA,GAAS,CAAT;AACA,WAAAC,IAAA,GAAO,MAAP;AACA,WAAAC,UAAA,GAAa,CAAb;AACA,WAAAC,QAAA,GAAW,CAAX;AAEH,K;;;;;;;;;;;;;;;;;ACPD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACEI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAAI;;AAAgB;;AACpB;;AAA2B;;;;AAA4B;;AACvD;;AACI;;AAAG;AAAA;;AAAA;;AAAA;AAAA;;AAAoH;;AAC3H;;AAAyD;;AAAY;;AACjE;;AAAG;AAAA;;AAAA;;AAAA;AAAA;;AAAmH;;AACtH;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAwE;;AAAW;;AAC/F;;AACJ;;AACA;;AACI;;AACI;;AAAI;;AAAW;;AACf;;AAAG;;AAAuB;;AAC9B;;AACJ;;AACJ;;;;;;AAlBa;;AAAA;;AAA6B;;AAG9B;;AAAA;;AACuB;;AAAA;;AAG8B;;AAAA;;AAQlD;;AAAA;;;;QDPNC,uB;;;AAIX,uCAAoBC,WAApB,EACoBC,aADpB,EAEoBC,SAFpB,EAGoBC,aAHpB,EAGkD;AAAA;;AAH9B,aAAAH,WAAA,GAAAA,WAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AALpB,aAAAC,QAAA,GAAW,CAAX;AAME,aAAKF,SAAL,CAAeG,GAAf,CAAmB,iBAAnB,EAAsC,EAAtC;AACD;;;;mCAEU;AACT,eAAKC,WAAL;AACD;;;0CAEiB;AAChB,eAAKH,aAAL,CAAmBI,eAAnB,CAAmC,KAAKC,OAAxC,EAAiD,KAAKJ,QAAtD;AACD;;;4CAEmB;AAClB,eAAKA,QAAL;AACD;;;4CAEmB;AAClB,cAAI,KAAKA,QAAL,GAAgB,CAApB,EAAuB;AACrB,iBAAKA,QAAL;AACD;AACF;;;sCAEa;AAAA;;AACZ,eAAKJ,WAAL,CAAiBS,UAAjB,CAA4B,CAAC,KAAKR,aAAL,CAAmBS,QAAnB,CAA4BC,QAA5B,CAAqCC,GAArC,CAAyC,IAAzC,CAA7B,EAA6EC,SAA7E,CAAuF,UAAAL,OAAO,EAAI;AAChG,iBAAI,CAACA,OAAL,GAAeA,OAAf;;AACA,iBAAI,CAACN,SAAL,CAAeG,GAAf,CAAmB,iBAAnB,EAAsCG,OAAO,CAACM,IAA9C;AACD,WAHD,EAGG,UAAAC,KAAK,EAAI;AACVC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WALD;AAMD;;;;;;;uBApCUhB,uB,EAAuB,0H,EAAA,+H,EAAA,iI,EAAA,4I;AAAA,K;;;YAAvBA,uB;AAAuB,0C;AAAA,c;AAAA,a;AAAA,2lB;AAAA;AAAA;ACZpC;;AAEI;;AAqBJ;;;;AArBqB;;AAAA;;;;;;;;;;sEDURA,uB,EAAuB;cALnC,uDAKmC;eALzB;AACTmB,kBAAQ,EAAE,qBADD;AAETC,qBAAW,EAAE,kCAFJ;AAGTC,mBAAS,EAAE,CAAC,kCAAD;AAHF,S;AAKyB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QASaC,oB;;;AAGX,oCAAoBlB,aAApB,EAAkD;AAAA;;AAA9B,aAAAA,aAAA,GAAAA,aAAA;AAAiC;;;;mCAE1C,CACV;;;0CAEiB;AAChB,eAAKA,aAAL,CAAmBI,eAAnB,CAAmC,KAAKC,OAAxC;AACD;;;;;;;uBAVUa,oB,EAAoB,4I;AAAA,K;;;YAApBA,oB;AAAoB,uC;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,qe;AAAA;AAAA;ACTjC;;AACI;;AACI;;AACA;;AACI;;AAAQ;AAAA,mBAAS,IAAAd,eAAA,EAAT;AAA0B,WAA1B;;AAA2F;;AACnG;;AAAgF;;AAAI;;AACxF;;AACJ;;AAEA;;AACI;;AACI;;AAA2B;;AAAgB;;AAC/C;;AACA;;AAAmB;;;;AAA4B;;AACnD;;AACJ;;;;AAba;;AAAA;;AAA6B;;AAGtB;;AAAA;;AAKT;;AAAA;;AAC4B;;AAAA;;AAEZ;;AAAA;;;;;;;;;;sEDJdc,oB,EAAoB;cALhC,uDAKgC;eALtB;AACTH,kBAAQ,EAAE,kBADD;AAETC,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;;;gBAC9B;;;;;;;;;;;;;;;;;;;;AEVH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAME,MAAM,GAAW,CACrB;AAACC,UAAI,EAAE,EAAP;AAAWC,eAAS,EAAE;AAAtB,KADqB,EAErB;AAACD,UAAI,EAAE,KAAP;AAAcC,eAAS,EAAE,kGAAzB;AAAkDhC,UAAI,EAAE;AAACiC,kBAAU,EAAE;AAACC,eAAK,EAAE;AAAR;AAAb;AAAxD,KAFqB,CAAvB;;QAYaC,iB;;;;;YAAAA;;;;yBAAAA,iB;AAAiB,O;AAAA,gBALnB,CACP,6DAAaC,QAAb,CAAsBN,MAAtB,CADO,CAKmB,EAFlB,4DAEkB;;;;0HAAjBK,iB,EAAiB;AAAA;AAAA,kBAFlB,4DAEkB;AAAA,O;AAFN,K;;;;;sEAEXA,iB,EAAiB;cAP7B,sDAO6B;eAPpB;AACRE,sBAAY,EAAE,EADN;AAERC,iBAAO,EAAE,CACP,6DAAaF,QAAb,CAAsBN,MAAtB,CADO,CAFD;AAKRS,iBAAO,EAAE,CAAC,4DAAD;AALD,S;AAOoB,Q;;;;;;;;;;;;;;;;;;AClB9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACOgB;;AAGI;;AACJ;;;;;;;;AAHI,yHAA2C,OAA3C,EAA2C,cAA3C;;AAEA;;AAAA;;;;;;;;AAMJ;;AAEI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACJ;;;;;;;;AAHI;;AAAsD;;AAEtD;;AAAA;;;;;;;;AAKJ;;AACsB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AACJ;;;;;;;;AAHuD;;AACnD;;AACA;;AAAA;;;;;;;;AAtBR;;AACA;;AAAwC;;AAAI;;AAC5C;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AAKJ;;AAEA;;AAA8B;;AAAM;;AACpC;;AACI;;AAKJ;;AACA;;AAA8B;;AAAK;;AACnC;;AACI;;AAIJ;;AACJ;;;;;;AAtBgB;;AAAA;;AASoB;;AAAA;;AAQA;;AAAA;;;;;;;;AAkB5B;;AACI;;AAAO;AAAA;;AAAA;;AAAA;AAAA;;AAAP;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA0D;;AAAM;;AACxE;;AAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAA8D;;AAAK;;AAC/E;;;;;;AAKA;;AACI;;AACJ;;;;;;AADsB;;AAAA;;;;;;;;AAG1B;;AACI;;AAII;AAAA;;AAAA;;AAAA;AAAA;;AACH;;AACL;;;;;;AALQ;;AAAA,0GAAgC,YAAhC,EAAgC,6BAAhC,EAAgC,YAAhC,EAAgC,kBAAhC;;;;QD7CPC,a;;;AAaX,6BAAoBhC,WAApB,EAA8C;AAAA;;AAA1B,aAAAA,WAAA,GAAAA,WAAA;AANpB,aAAAiC,WAAA,GAAc,CACZ;AAAEnB,cAAI,EAAE,cAAR;AAAwBoB,eAAK,EAAE;AAA/B,SADY,EAEZ;AAAEpB,cAAI,EAAE,oBAAR;AAA8BoB,eAAK,EAAE;AAArC,SAFY,EAGZ;AAAEpB,cAAI,EAAE,oBAAR;AAA8BoB,eAAK,EAAE;AAArC,SAHY,CAAd;AAOE,aAAKC,UAAL,GAAkB,KAAKnC,WAAL,CAAiBoC,aAAjB,EAAlB;AACD;;;;mCAEU;AACT,eAAKC,WAAL,CAAiB,IAAjB;AACA,eAAKC,SAAL;AACA,eAAKC,QAAL;AACD;;;sCAE6B;AAAA;;AAAA,cAAlBC,QAAkB,uEAAP,KAAO;AAC5B,eAAKxC,WAAL,CAAiBqC,WAAjB,CAA6BG,QAA7B,EAAuC3B,SAAvC,CAAiD,UAAA4B,QAAQ,EAAI;AAC3D,kBAAI,CAACC,QAAL,GAAgBD,QAAQ,CAACjD,IAAzB;AACA,kBAAI,CAACmD,UAAL,GAAkBF,QAAQ,CAACG,KAA3B;AACD,WAHD,EAGG,UAAA7B,KAAK,EAAI;AACVC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WALD;AAMD;;;oCAEW;AAAA;;AACV,eAAKf,WAAL,CAAiBsC,SAAjB,GAA6BzB,SAA7B,CAAuC,UAAA4B,QAAQ,EAAI;AACjD,kBAAI,CAACI,MAAL,IAAe;AAAEC,gBAAE,EAAE,CAAN;AAAShC,kBAAI,EAAE;AAAf,aAAf,4BAA0C2B,QAA1C;AACD,WAFD,EAEG,UAAA1B,KAAK,EAAI;AACVC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WAJD;AAKD;;;mCAEU;AAAA;;AACT,eAAKf,WAAL,CAAiBuC,QAAjB,GAA4B1B,SAA5B,CAAsC,UAAA4B,QAAQ,EAAI;AAChD,kBAAI,CAACM,KAAL,IAAc;AAAED,gBAAE,EAAE,CAAN;AAAShC,kBAAI,EAAE;AAAf,aAAd,4BAAyC2B,QAAzC;AACD,WAFD,EAEG,UAAA1B,KAAK,EAAI;AACVC,mBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,WAJD;AAKD;;;wCAEerB,O,EAAiB;AAC/B,cAAMsD,MAAM,GAAG,KAAKhD,WAAL,CAAiBoC,aAAjB,EAAf;AACAY,gBAAM,CAACtD,OAAP,GAAiBA,OAAjB;AACAsD,gBAAM,CAACnD,UAAP,GAAoB,CAApB;AACA,eAAKG,WAAL,CAAiBiD,aAAjB,CAA+BD,MAA/B;AACA,eAAKX,WAAL;AACD;;;uCAEc1C,M,EAAgB;AAC7B,cAAMqD,MAAM,GAAG,KAAKhD,WAAL,CAAiBoC,aAAjB,EAAf;AACAY,gBAAM,CAACrD,MAAP,GAAgBA,MAAhB;AACAqD,gBAAM,CAACnD,UAAP,GAAoB,CAApB;AACA,eAAKG,WAAL,CAAiBiD,aAAjB,CAA+BD,MAA/B;AACA,eAAKX,WAAL;AACD;;;uCAEczC,I,EAAc;AAC3B,cAAMoD,MAAM,GAAG,KAAKhD,WAAL,CAAiBoC,aAAjB,EAAf;AACAY,gBAAM,CAACpD,IAAP,GAAcA,IAAd;AACA,eAAKI,WAAL,CAAiBiD,aAAjB,CAA+BD,MAA/B;AACA,eAAKX,WAAL;AACD;;;sCAEaa,K,EAAY;AACxB,cAAMF,MAAM,GAAG,KAAKhD,WAAL,CAAiBoC,aAAjB,EAAf;;AACA,cAAIY,MAAM,CAACnD,UAAP,KAAsBqD,KAA1B,EAAiC;AAC/BF,kBAAM,CAACnD,UAAP,GAAoBqD,KAApB;AACA,iBAAKlD,WAAL,CAAiBiD,aAAjB,CAA+BD,MAA/B;AACA,iBAAKX,WAAL,CAAiB,IAAjB;AACD;AACF;;;mCAEU;AACT,cAAMW,MAAM,GAAG,KAAKhD,WAAL,CAAiBoC,aAAjB,EAAf;AACAY,gBAAM,CAACG,MAAP,GAAgB,KAAKC,UAAL,CAAgBC,aAAhB,CAA8BnB,KAA9C;AACAc,gBAAM,CAACnD,UAAP,GAAoB,CAApB;AACA,eAAKG,WAAL,CAAiBiD,aAAjB,CAA+BD,MAA/B;AACA,eAAKX,WAAL;AACD;;;kCAES;AACR,eAAKe,UAAL,CAAgBC,aAAhB,CAA8BnB,KAA9B,GAAsC,EAAtC;AACA,eAAKC,UAAL,GAAkB,IAAI,oEAAJ,EAAlB;AACA,eAAKnC,WAAL,CAAiBiD,aAAjB,CAA+B,KAAKd,UAApC;AACA,eAAKE,WAAL;AACD;;;;;;;uBA7FUL,a,EAAa,0H;AAAA,K;;;YAAbA,a;AAAa,+B;AAAA;AAAA;;;;;;;;;;;;;;;ACZ1B;;AACI;;AAEI;;AACI;;AA0BJ;;AAEA;;AACI;;AAEI;;AAOA;;AAKJ;;AAGA;;AACI;;AAGJ;;AACA;;AASJ;;AACJ;;AACJ;;;;AA9D0B;;AAAA;;AAgCN;;AAAA,iGAAyB,UAAzB,EAAyB,uBAAzB,EAAyB,YAAzB,EAAyB,yBAAzB;;AAMqB;;AAAA;;AASD;;AAAA;;AAIe;;AAAA;;;;;;;;;sED3C1CA,a,EAAa;cALzB,uDAKyB;eALf;AACTd,kBAAQ,EAAE,UADD;AAETC,qBAAW,EAAE,uBAFJ;AAGTC,mBAAS,EAAE,CAAC,uBAAD;AAHF,S;AAKe,Q;;;;;;gBACvB,uD;iBAAU,Q;;;;;;;;;;;;;;;;;;;;AEbb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAgBakC,U;;;;;YAAAA;;;;yBAAAA,U;AAAU,O;AAAA,gBANZ,CACP,4DADO,EAEP,kEAFO,EAGP,sEAHO,CAMY;;;;0HAAVA,U,EAAU;AAAA,uBAPN,6DAOM,EAPS,yFAOT,EAP+B,kGAO/B;AAPsD,kBAEzE,4DAFyE,EAGzE,kEAHyE,EAIzE,sEAJyE;AAOtD,O;AAHF,K;;;;;sEAGRA,U,EAAU;cARtB,sDAQsB;eARb;AACRzB,sBAAY,EAAE,CAAC,6DAAD,EAAgB,yFAAhB,EAAsC,kGAAtC,CADN;AAERC,iBAAO,EAAE,CACP,4DADO,EAEP,kEAFO,EAGP,sEAHO;AAFD,S;AAQa,Q;;;;;;;;;;;;;;;;;;AChBvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAaayB,W;;;AAQX,2BAAoBC,IAApB,EAAsC;AAAA;;AAAlB,aAAAA,IAAA,GAAAA,IAAA;AAPpB,aAAAC,OAAA,GAAU,8BAAV;AACA,aAAAf,QAAA,GAAuB,EAAvB;AACA,aAAAG,MAAA,GAAmB,EAAnB;AACA,aAAAE,KAAA,GAAiB,EAAjB;AACA,aAAAW,UAAA,GAAa,IAAI,oEAAJ,EAAb;AACA,aAAAvB,UAAA,GAAa,IAAI,oEAAJ,EAAb;AAEyC;;;;oCAE7BK,Q,EAAmB;AAAA;;AAC7B,cAAIA,QAAQ,KAAK,KAAjB,EAAwB;AACtB,iBAAKE,QAAL,GAAgB,EAAhB;AACD;;AAED,cAAI,KAAKA,QAAL,CAAciB,MAAd,GAAuB,CAAvB,IAA4BnB,QAAQ,KAAK,IAA7C,EAAmD;AACjD,gBAAMoB,aAAa,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAKpB,QAAL,CAAciB,MAAd,GAAuB,KAAKxB,UAAL,CAAgBrC,QAAjD,CAAtB;;AAEA,gBAAI,KAAKqC,UAAL,CAAgBtC,UAAhB,IAA8B+D,aAAlC,EAAiD;AAC/C,mBAAKF,UAAL,CAAgBlE,IAAhB,GACE,KAAKkD,QAAL,CAAcqB,KAAd,CAAoB,CAAC,KAAK5B,UAAL,CAAgBtC,UAAhB,GAA6B,CAA9B,IAAmC,KAAKsC,UAAL,CAAgBrC,QAAvE,EACE,KAAKqC,UAAL,CAAgBtC,UAAhB,GAA6B,KAAKsC,UAAL,CAAgBrC,QAD/C,CADF;AAIA,qBAAO,gDAAG,KAAK4D,UAAR,CAAP;AACD;AACF;;AAED,cAAIV,MAAM,GAAG,IAAI,+DAAJ,EAAb;;AAEA,cAAI,KAAKb,UAAL,CAAgBzC,OAAhB,KAA4B,CAAhC,EAAmC;AACjCsD,kBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,SAAd,EAAyB,KAAK7B,UAAL,CAAgBzC,OAAhB,CAAwBuE,QAAxB,EAAzB,CAAT;AACD;;AAED,cAAI,KAAK9B,UAAL,CAAgBxC,MAAhB,KAA2B,CAA/B,EAAkC;AAChCqD,kBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,QAAd,EAAwB,KAAK7B,UAAL,CAAgBxC,MAAhB,CAAuBsE,QAAvB,EAAxB,CAAT;AACD;;AAED,cAAI,KAAK9B,UAAL,CAAgBgB,MAApB,EAA4B;AAC1BH,kBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,QAAd,EAAwB,KAAK7B,UAAL,CAAgBgB,MAAxC,CAAT;AACD;;AAEDH,gBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,MAAd,EAAsB,KAAK7B,UAAL,CAAgBvC,IAAtC,CAAT;AACAoD,gBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,WAAd,EAA2B,KAAK7B,UAAL,CAAgBtC,UAAhB,CAA2BoE,QAA3B,EAA3B,CAAT;AACAjB,gBAAM,GAAGA,MAAM,CAACgB,MAAP,CAAc,UAAd,EAA0B,KAAK7B,UAAL,CAAgBrC,QAAhB,CAAyBmE,QAAzB,EAA1B,CAAT;AACA,iBAAO,KAAKT,IAAL,CAAU5C,GAAV,CAA2B,KAAK6C,OAAL,GAAe,UAA1C,EAAsD;AAAES,mBAAO,EAAE,UAAX;AAAuBlB,kBAAM,EAANA;AAAvB,WAAtD,EACJmB,IADI,CAEH,2DAAI,UAAA1B,QAAQ,EAAI;AACd,kBAAI,CAACC,QAAL,gCAAoB,MAAI,CAACA,QAAzB,sBAAsCD,QAAQ,CAAC2B,IAAT,CAAc5E,IAApD;AACA,kBAAI,CAACkE,UAAL,GAAkBjB,QAAQ,CAAC2B,IAA3B;AACA,mBAAO,MAAI,CAACV,UAAZ;AACD,WAJD,CAFG,CAAP;AAQD;;;wCAEe;AACd,iBAAO,KAAKvB,UAAZ;AACD;;;sCAEaa,M,EAAoB;AAChC,eAAKb,UAAL,GAAkBa,MAAlB;AACD;;;mCAEUF,E,EAAY;AACrB,cAAMtC,OAAO,GAAG,KAAKkC,QAAL,CAAc2B,IAAd,CAAmB,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACxB,EAAF,KAASA,EAAb;AAAA,WAApB,CAAhB;;AAEA,cAAItC,OAAJ,EAAa;AACX,mBAAO,gDAAGA,OAAH,CAAP;AACD;;AAED,iBAAO,KAAKgD,IAAL,CAAU5C,GAAV,CAAwB,KAAK6C,OAAL,GAAe,WAAf,GAA6BX,EAArD,CAAP;AACD;;;oCAEW;AAAA;;AACV,cAAI,KAAKD,MAAL,CAAYc,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,mBAAO,gDAAG,KAAKd,MAAR,CAAP;AACD;;AACD,iBAAO,KAAKW,IAAL,CAAU5C,GAAV,CAAwB,KAAK6C,OAAL,GAAe,iBAAvC,EAA0DU,IAA1D,CACL,2DAAI,UAAA1B,QAAQ,EAAI;AACd,kBAAI,CAACI,MAAL,GAAcJ,QAAd;AACA,mBAAOA,QAAP;AACD,WAHD,CADK,CAAP;AAMD;;;mCAEU;AAAA;;AACT,cAAI,KAAKM,KAAL,CAAWY,MAAX,GAAoB,CAAxB,EAA2B;AACzB,mBAAO,gDAAG,KAAKZ,KAAR,CAAP;AACD;;AACD,iBAAO,KAAKS,IAAL,CAAU5C,GAAV,CAAuB,KAAK6C,OAAL,GAAe,gBAAtC,EAAwDU,IAAxD,CACL,2DAAI,UAAA1B,QAAQ,EAAI;AACd,kBAAI,CAACM,KAAL,GAAaN,QAAb;AACA,mBAAOA,QAAP;AACD,WAHD,CADK,CAAP;AAMD;;;;;;;uBA9FUc,W,EAAW,uH;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACVgB,oBAAU,EAAE;AADF,S;AAGY,Q","file":"shop-shop-module-es5.js","sourcesContent":["import {IProduct} from './product';\r\n\r\nexport interface IPagination {\r\n    pageIndex: number;\r\n    pageSize: number;\r\n    count: number;\r\n    data: IProduct[];\r\n}\r\n\r\nexport class Pagination implements IPagination {\r\n    pageIndex: number;\r\n    pageSize: number;\r\n    count: number;\r\n    data: IProduct[] = [];\r\n}\r\n","export class ShopParams {\r\n    brandId = 0;\r\n    typeId = 0;\r\n    sort = 'name';\r\n    pageNumber = 1;\r\n    pageSize = 6;\r\n    search: string;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IProduct } from 'src/app/shared/models/product';\r\nimport { ShopService } from '../shop.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BreadcrumbService } from 'xng-breadcrumb';\r\nimport { BasketService } from 'src/app/basket/basket.service';\r\n\r\n@Component({\r\n  selector: 'app-product-details',\r\n  templateUrl: './product-details.component.html',\r\n  styleUrls: ['./product-details.component.scss']\r\n})\r\nexport class ProductDetailsComponent implements OnInit {\r\n  product: IProduct;\r\n  quantity = 1;\r\n\r\n  constructor(private shopService: ShopService,\r\n              private activateRoute: ActivatedRoute,\r\n              private bcService: BreadcrumbService,\r\n              private basketService: BasketService) {\r\n    this.bcService.set('@productDetails', '');\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadProduct();\r\n  }\r\n\r\n  addItemToBasket() {\r\n    this.basketService.addItemToBasket(this.product, this.quantity);\r\n  }\r\n\r\n  incrementQuantity() {\r\n    this.quantity++;\r\n  }\r\n\r\n  decrementQuantity() {\r\n    if (this.quantity > 1) {\r\n      this.quantity--;\r\n    }\r\n  }\r\n\r\n  loadProduct() {\r\n    this.shopService.getProduct(+this.activateRoute.snapshot.paramMap.get('id')).subscribe(product => {\r\n      this.product = product;\r\n      this.bcService.set('@productDetails', product.name);\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container mt-5\">\r\n\r\n    <div class=\"row\" *ngIf=\"product\">\r\n        <div class=\"col-6\">\r\n            <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"img-fluid w-100\">\r\n        </div>\r\n        <div class=\"col-6\">\r\n            <h3>{{product.name}}</h3>\r\n            <p style=\"font-size: 2em;\">{{product.price | currency}}</p>\r\n            <div class=\"d-flex justify-content-start align-items-center\">\r\n                <i (click)=\"decrementQuantity()\" class=\"fa fa-minus-circle text-warning mr-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\r\n            <span class=\"font-weight-bold\" style=\"font-size: 1.5em;\">{{quantity}}</span>\r\n                <i (click)=\"incrementQuantity()\" class=\"fa fa-plus-circle text-warning mx-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\r\n                <button (click)=\"addItemToBasket()\" class=\"btn btn-outline-primary btn-lg ml-4\">Add to Cart</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-5\">\r\n            <div class=\"col-12 ml-3\">\r\n                <h4>Description</h4>\r\n                <p>{{product.description}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { IProduct } from 'src/app/shared/models/product';\r\nimport { BasketService } from 'src/app/basket/basket.service';\r\n\r\n@Component({\r\n  selector: 'app-product-item',\r\n  templateUrl: './product-item.component.html',\r\n  styleUrls: ['./product-item.component.scss']\r\n})\r\nexport class ProductItemComponent implements OnInit {\r\n  @Input() product: IProduct;\r\n\r\n  constructor(private basketService: BasketService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  addItemToBasket() {\r\n    this.basketService.addItemToBasket(this.product);\r\n  }\r\n\r\n}\r\n","<div class=\"card h-100 shadow-sm\">\r\n    <div class=\"image position-relative\" style=\"cursor: pointer;\">\r\n        <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"img-fluid bg-info\">\r\n        <div class=\"d-flex align-items-center justify-content-center hover-overlay\">\r\n            <button (click)=\"addItemToBasket()\" type=\"button\" class=\"btn btn-primary fa fa-shopping-cart mr-2\"></button>\r\n            <button routerLink=\"/shop/{{product.id}}\" type=\"button\" class=\"btn btn-primary\">View</button>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class=\"card-body d-flex flex-column\">\r\n        <a routerLink=\"/shop/{{product.id}}\">\r\n            <h6 class=\"text-uppercase\">{{product.name}}</h6>\r\n        </a>\r\n        <span class=\"mb-2\">{{product.price | currency}}</span>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ShopComponent } from './shop.component';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: ShopComponent},\r\n  {path: ':id', component: ProductDetailsComponent, data: {breadcrumb: {alias: 'productDetails'}}},\r\n];\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class ShopRoutingModule { }\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { IProduct } from '../shared/models/product';\r\nimport { ShopService } from './shop.service';\r\nimport { IBrand } from '../shared/models/brand';\r\nimport { IType } from '../shared/models/productType';\r\nimport { ShopParams } from '../shared/models/shopParams';\r\n\r\n@Component({\r\n  selector: 'app-shop',\r\n  templateUrl: './shop.component.html',\r\n  styleUrls: ['./shop.component.scss']\r\n})\r\nexport class ShopComponent implements OnInit {\r\n  @ViewChild('search') searchTerm: ElementRef;\r\n  products: IProduct[];\r\n  brands: IBrand[];\r\n  types: IType[];\r\n  shopParams: ShopParams;\r\n  totalCount: number;\r\n  sortOptions = [\r\n    { name: 'Alphabetical', value: 'name' },\r\n    { name: 'Price: Low to High', value: 'priceAsc' },\r\n    { name: 'Price: High to Low', value: 'priceDesc' }\r\n  ];\r\n\r\n  constructor(private shopService: ShopService) {\r\n    this.shopParams = this.shopService.getShopParams();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getProducts(true);\r\n    this.getBrands();\r\n    this.getTypes();\r\n  }\r\n\r\n  getProducts(useCache = false) {\r\n    this.shopService.getProducts(useCache).subscribe(response => {\r\n      this.products = response.data;\r\n      this.totalCount = response.count;\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  getBrands() {\r\n    this.shopService.getBrands().subscribe(response => {\r\n      this.brands = [{ id: 0, name: 'All' }, ...response];\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  getTypes() {\r\n    this.shopService.getTypes().subscribe(response => {\r\n      this.types = [{ id: 0, name: 'All' }, ...response];\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  onBrandSelected(brandId: number) {\r\n    const params = this.shopService.getShopParams();\r\n    params.brandId = brandId;\r\n    params.pageNumber = 1;\r\n    this.shopService.setShopParams(params);\r\n    this.getProducts();\r\n  }\r\n\r\n  onTypeSelected(typeId: number) {\r\n    const params = this.shopService.getShopParams();\r\n    params.typeId = typeId;\r\n    params.pageNumber = 1;\r\n    this.shopService.setShopParams(params);\r\n    this.getProducts();\r\n  }\r\n\r\n  onSortSelected(sort: string) {\r\n    const params = this.shopService.getShopParams();\r\n    params.sort = sort;\r\n    this.shopService.setShopParams(params);\r\n    this.getProducts();\r\n  }\r\n\r\n  onPageChanged(event: any) {\r\n    const params = this.shopService.getShopParams();\r\n    if (params.pageNumber !== event) {\r\n      params.pageNumber = event;\r\n      this.shopService.setShopParams(params);\r\n      this.getProducts(true);\r\n    }\r\n  }\r\n\r\n  onSearch() {\r\n    const params = this.shopService.getShopParams();\r\n    params.search = this.searchTerm.nativeElement.value;\r\n    params.pageNumber = 1;\r\n    this.shopService.setShopParams(params);\r\n    this.getProducts();\r\n  }\r\n\r\n  onReset() {\r\n    this.searchTerm.nativeElement.value = '';\r\n    this.shopParams = new ShopParams();\r\n    this.shopService.setShopParams(this.shopParams);\r\n    this.getProducts();\r\n  }\r\n}\r\n","<div class=\"container mt-3\">\r\n    <div class=\"row\">\r\n\r\n        <section class=\"col-3\">\r\n            <ng-container *ngIf=\"types && brands\">\r\n            <h5 class=\"text-warning ml-3 mt-4 mb-3\">Sort</h5>\r\n            <select class=\"custom-select mb-4\" (change)=\"onSortSelected($event.target.value)\">\r\n                <option *ngFor=\"let sort of sortOptions\" \r\n                    [selected]=\"shopParams.sort === sort.value\"\r\n                    [value]=\"sort.value\">\r\n                    {{sort.name}}\r\n                </option>\r\n            </select>\r\n\r\n            <h5 class=\"text-warning ml-3\">Brands</h5>\r\n            <ul class=\"list-group my-3\">\r\n                <li class=\"list-group-item\" *ngFor=\"let brand of brands\"\r\n                    [class.active]=\"brand.id === this.shopParams.brandId\" [value]=\"brand.id\"\r\n                    (click)=\"onBrandSelected(brand.id)\">\r\n                    {{brand.name}}\r\n                </li>\r\n            </ul>\r\n            <h5 class=\"text-warning ml-3\">Types</h5>\r\n            <ul class=\"list-group my-3\">\r\n                <li class=\"list-group-item\" *ngFor=\"let type of types\" [class.active]=\"type.id === this.shopParams.typeId\"\r\n                    [value]=\"type.id\" (click)=\"onTypeSelected(type.id)\">\r\n                    {{type.name}}\r\n                </li>\r\n            </ul>\r\n        </ng-container>\r\n        </section>\r\n\r\n        <section class=\"col-9\">\r\n            <div class=\"d-flex justify-content-between align-items-center pb-2\">\r\n\r\n                <app-paging-header\r\n                    [totalCount]=\"totalCount\"\r\n                    [pageSize]=\"this.shopParams.pageSize\"\r\n                    [pageNumber]=\"this.shopParams.pageNumber\"\r\n                ></app-paging-header\r\n                    >\r\n\r\n                <div class=\"form-inline\" *ngIf=\"products\">\r\n                    <input (keyup.enter)=\"onSearch()\" class=\"form-control mr-2\" #search style=\"width: 300px\" placeholder=\"Search\" type=\"text\">\r\n                    <button (click)=\"onSearch()\" class=\"btn btn-outline-primary my-2\">Search</button>\r\n                    <button (click)=\"onReset()\" class=\"btn btn-outline-success ml-2 my-2\">Reset</button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-4 mb-4\" *ngFor=\"let item of products\">\r\n                    <app-product-item [product]=\"item\"></app-product-item>\r\n                </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-center\" *ngIf=\"totalCount > 0\">\r\n                <app-pager\r\n                    [pageSize]=\"shopParams.pageSize\"\r\n                    [pageNumber]=\"shopParams.pageNumber\"\r\n                    [totalCount]=\"totalCount\"\r\n                    (pageChanged)=\"onPageChanged($event)\"\r\n                ></app-pager>\r\n            </div>\r\n\r\n        </section>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShopComponent } from './shop.component';\r\nimport { ProductItemComponent } from './product-item/product-item.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\nimport { ShopRoutingModule } from './shop-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [ShopComponent, ProductItemComponent, ProductDetailsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    ShopRoutingModule\r\n  ]\r\n})\r\nexport class ShopModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { IPagination, Pagination } from '../shared/models/pagination';\r\nimport { IBrand } from '../shared/models/brand';\r\nimport { IType } from '../shared/models/productType';\r\nimport { map, delay } from 'rxjs/operators';\r\nimport { ShopParams } from '../shared/models/shopParams';\r\nimport { IProduct } from '../shared/models/product';\r\nimport { of } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShopService {\r\n  baseUrl = 'https://localhost:44376/api/';\r\n  products: IProduct[] = [];\r\n  brands: IBrand[] = [];\r\n  types: IType[] = [];\r\n  pagination = new Pagination();\r\n  shopParams = new ShopParams();\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getProducts(useCache: boolean) {\r\n    if (useCache === false) {\r\n      this.products = [];\r\n    }\r\n\r\n    if (this.products.length > 0 && useCache === true) {\r\n      const pagesReceived = Math.ceil(this.products.length / this.shopParams.pageSize);\r\n\r\n      if (this.shopParams.pageNumber <= pagesReceived) {\r\n        this.pagination.data =\r\n          this.products.slice((this.shopParams.pageNumber - 1) * this.shopParams.pageSize,\r\n            this.shopParams.pageNumber * this.shopParams.pageSize);\r\n\r\n        return of(this.pagination);\r\n      }\r\n    }\r\n\r\n    let params = new HttpParams();\r\n\r\n    if (this.shopParams.brandId !== 0) {\r\n      params = params.append('brandId', this.shopParams.brandId.toString());\r\n    }\r\n\r\n    if (this.shopParams.typeId !== 0) {\r\n      params = params.append('typeId', this.shopParams.typeId.toString());\r\n    }\r\n\r\n    if (this.shopParams.search) {\r\n      params = params.append('search', this.shopParams.search);\r\n    }\r\n\r\n    params = params.append('sort', this.shopParams.sort);\r\n    params = params.append('pageIndex', this.shopParams.pageNumber.toString());\r\n    params = params.append('pageSize', this.shopParams.pageSize.toString());\r\n    return this.http.get<IPagination>(this.baseUrl + 'products', { observe: 'response', params })\r\n      .pipe(\r\n        map(response => {\r\n          this.products = [...this.products, ...response.body.data];\r\n          this.pagination = response.body;\r\n          return this.pagination;\r\n        })\r\n      );\r\n  }\r\n\r\n  getShopParams() {\r\n    return this.shopParams;\r\n  }\r\n\r\n  setShopParams(params: ShopParams) {\r\n    this.shopParams = params;\r\n  }\r\n\r\n  getProduct(id: number) {\r\n    const product = this.products.find(p => p.id === id);\r\n\r\n    if (product) {\r\n      return of(product);\r\n    }\r\n\r\n    return this.http.get<IProduct>(this.baseUrl + 'products/' + id);\r\n  }\r\n\r\n  getBrands() {\r\n    if (this.brands.length > 0) {\r\n      return of(this.brands);\r\n    }\r\n    return this.http.get<IBrand[]>(this.baseUrl + 'products/brands').pipe(\r\n      map(response => {\r\n        this.brands = response;\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n\r\n  getTypes() {\r\n    if (this.types.length > 0) {\r\n      return of(this.types);\r\n    }\r\n    return this.http.get<IType[]>(this.baseUrl + 'products/types').pipe(\r\n      map(response => {\r\n        this.types = response;\r\n        return response;\r\n      })\r\n    );\r\n  }\r\n}\r\n"]}